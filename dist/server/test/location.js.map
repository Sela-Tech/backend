{"version":3,"sources":["../../../test/location.js"],"names":["chai","require","chaiHttp","supertest","app","insertUserSeed","valideOrganization","generateToken","mongoose","User","model","Organization","expect","request","token","user","use","describe","before","after","remove","it","done","get","set","authorization","end","err","res","body","length","to","equal"],"mappings":";;;;AAAA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;AACA,IAAMC,WAAWD,QAAQ,WAAR,CAAjB;AACA,IAAOE,YAAYF,QAAQ,WAAR,CAAnB;AACA,IAAOG,MAAKH,QAAQ,aAAR,CAAZ;;eAEYA,QAAQ,oBAAR,C;IADJI,c,YAAAA,c;IAAeC,kB,YAAAA,kB;IAAoBC,a,YAAAA,a;;AAE3C,IAAMC,WAAWP,QAAQ,UAAR,CAAjB;AACA,IAAMQ,OAAOD,SAASE,KAAT,CAAe,MAAf,CAAb;AACA,IAAMC,eAAeH,SAASE,KAAT,CAAe,cAAf,CAArB;;AAIA,IAAME,SAASZ,KAAKY,MAApB;AACA,IAAMC,UAAUV,UAAUC,GAAV,CAAhB;AACA,IAAIU,QAAM,EAAV;AACA,IAAIC,OAAM,EAAV;AACAf,KAAKgB,GAAL,CAASd,QAAT;;AAGAe,SAAS,yBAAT,EAAoC,YAAM;AAC1CC,iEAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAGUb,gBAHV;;AAAA;AAGJU,gBAHI;;;AAKL;AACCD,oBAAOP,cAAcQ,IAAd,CAAP;;AANI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAP;;AAWAI,gEAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACEV,KAAKW,MAAL,CAAY,EAAZ,CADF;;AAAA;AAAA;AAAA,mBAEET,aAAaS,MAAb,CAAoB,EAApB,CAFF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAN;;AAMEH,WAAS,uBAAT,EAAkC,YAAM;AACtCI,OAAG,gDAAH,EAAqD,UAACC,IAAD,EAAU;AAC7DT,cACGU,GADH,CACO,YADP,EAEGC,GAFH,CAEO,EAACC,eAAcX,KAAf,EAFP,EAGGF,MAHH,CAGU,GAHV,EAIGc,GAJH,CAIO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjB,YAAID,GAAJ,EAAS,OAAOL,KAAKK,GAAL,CAAP;AACTf,eAAOgB,IAAIC,IAAJ,CAASC,MAAhB,EAAwBC,EAAxB,CAA2BC,KAA3B,CAAiC,CAAjC;AACAV;AACD,OARH;AASD,KAVD;AAYD,GAbD;AAgBD,CAlCD","file":"location.js","sourcesContent":["const chai = require('chai');\nconst chaiHttp = require('chai-http');\nconst  supertest = require('supertest');\nconst  app =require('../sela_app');\nconst { insertUserSeed,valideOrganization, generateToken\n        } = require('./helpers/mockData')\nconst mongoose = require(\"mongoose\");\nconst User = mongoose.model(\"User\");\nconst Organization = mongoose.model('Organization');\n\n\n\nconst expect = chai.expect;\nconst request = supertest(app);\nlet token='';\nlet user ='';\nchai.use(chaiHttp);\n\n\ndescribe('organization controller', () => {\nbefore(async() => {\n\n  // seed a user into the db collection\n   user =  await insertUserSeed();\n\n  //  generatee token for the seeded user\n   token= generateToken(user);\n\n\n});\n\nafter(async ()=>{\n  await User.remove({});\n  await Organization.remove({});\n\n})\n\n  describe('Locations: /locations', () => {\n    it('should successfully fetch all locations if any', (done) => {\n      request\n        .get('/locations')\n        .set({authorization:token})\n        .expect(200)\n        .end((err, res) => {\n          if (err) return done(err);\n          expect(res.body.length).to.equal(0);\n          done();\n        });\n    });\n    \n  });\n\n\n});\n"]}